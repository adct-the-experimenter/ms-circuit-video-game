Version 4
SHEET 1 4544 2016
WIRE 1760 112 1760 80
WIRE 1280 160 1120 160
WIRE 1664 176 1552 176
WIRE 3888 192 3264 192
WIRE 4080 192 3888 192
WIRE 1952 208 1856 208
WIRE 592 224 448 224
WIRE 4272 224 4240 224
WIRE 4416 224 4352 224
WIRE 1664 240 1600 240
WIRE 4080 240 4080 192
WIRE 2640 256 2592 256
WIRE 2816 256 2720 256
WIRE 3888 256 3888 192
WIRE 1120 272 1120 160
WIRE 1168 272 1120 272
WIRE 1280 272 1280 160
WIRE 1552 272 1552 176
WIRE 1552 272 1280 272
WIRE 448 288 448 224
WIRE 480 288 448 288
WIRE 1280 288 1280 272
WIRE 1280 288 1232 288
WIRE 592 304 592 224
WIRE 592 304 544 304
WIRE 704 304 704 256
WIRE 704 304 592 304
WIRE 848 304 704 304
WIRE 992 304 928 304
WIRE 1168 304 992 304
WIRE 1664 304 1648 304
WIRE 4080 304 4080 288
WIRE 480 320 192 320
WIRE 3888 336 3888 320
WIRE 3888 336 3840 336
WIRE 3984 336 3888 336
WIRE 4080 336 4080 304
WIRE 4128 336 4080 336
WIRE 4240 336 4240 224
WIRE 4240 336 4208 336
WIRE 4304 336 4240 336
WIRE 4416 352 4416 224
WIRE 4416 352 4368 352
WIRE 4464 352 4416 352
WIRE 848 368 848 304
WIRE 3888 368 3888 336
WIRE 4080 368 4080 336
WIRE 4304 368 4256 368
WIRE 992 384 992 304
WIRE 1952 384 1952 208
WIRE 2032 384 2032 336
WIRE 2032 384 1952 384
WIRE 4256 400 4256 368
WIRE 1520 416 1520 400
WIRE 1600 416 1600 240
WIRE 1600 416 1520 416
WIRE 2400 416 2400 368
WIRE 2464 416 2400 416
WIRE 2592 416 2592 256
WIRE 2592 416 2544 416
WIRE 2672 416 2592 416
WIRE 1520 432 1520 416
WIRE 2816 432 2816 256
WIRE 2816 432 2736 432
WIRE 2960 432 2960 368
WIRE 2960 432 2816 432
WIRE 3264 432 3264 192
WIRE 3264 432 2960 432
WIRE 656 448 656 416
WIRE 800 448 656 448
WIRE 1696 448 1696 416
WIRE 1824 448 1824 416
WIRE 2672 448 2656 448
WIRE 928 464 928 304
WIRE 928 464 848 464
WIRE 992 464 992 448
WIRE 1648 480 1648 304
WIRE 2032 512 1952 512
WIRE 3888 528 3888 448
WIRE 2464 544 2400 544
WIRE 2608 544 2544 544
WIRE 2656 544 2656 448
WIRE 2656 544 2608 544
WIRE 2032 560 2032 512
WIRE 2608 576 2608 544
WIRE 1760 592 1760 544
WIRE 2400 592 2400 544
WIRE 1264 608 1104 608
WIRE 1664 656 1552 656
WIRE 576 672 432 672
WIRE 1952 688 1952 512
WIRE 1952 688 1856 688
WIRE 1104 720 1104 608
WIRE 1152 720 1104 720
WIRE 1664 720 1616 720
WIRE 432 736 432 672
WIRE 464 736 432 736
WIRE 1264 736 1264 608
WIRE 1264 736 1216 736
WIRE 1552 736 1552 656
WIRE 1552 736 1264 736
WIRE 576 752 576 672
WIRE 576 752 528 752
WIRE 688 752 688 704
WIRE 688 752 576 752
WIRE 832 752 688 752
WIRE 976 752 912 752
WIRE 1152 752 976 752
WIRE 464 768 176 768
WIRE 1664 784 1632 784
WIRE 832 816 832 752
WIRE 976 832 976 752
WIRE 640 896 640 864
WIRE 784 896 640 896
WIRE 1504 896 1504 880
WIRE 1616 896 1616 720
WIRE 1616 896 1504 896
WIRE 912 912 912 752
WIRE 912 912 832 912
WIRE 976 912 976 896
WIRE 1504 912 1504 896
WIRE 1696 928 1696 896
WIRE 1824 928 1824 896
WIRE 1632 1024 1632 784
WIRE 96 1088 96 1056
WIRE 240 1088 240 1056
FLAG -416 352 0
FLAG -608 272 VCC
FLAG -608 352 0
FLAG -416 272 VEE
FLAG -656 720 0
FLAG -656 640 pendelum
FLAG -512 1136 0
FLAG -512 1056 P1_button_it
FLAG 1200 256 VCC
FLAG 1200 320 VEE
FLAG 992 464 0
FLAG 704 256 pend_buffer1
FLAG 512 272 VCC
FLAG 512 336 VEE
FLAG 656 416 P1_button_it
FLAG 192 320 pendelum
FLAG 1184 704 VCC
FLAG 1184 768 VEE
FLAG 976 912 0
FLAG 688 704 pend_buffer2
FLAG 496 720 VCC
FLAG 496 784 VEE
FLAG 640 864 P2_button_it
FLAG 176 768 pendelum
FLAG -256 1136 0
FLAG -256 1056 P2_button_it
FLAG 2704 400 VCC
FLAG 2704 464 VEE
FLAG 2608 656 0
FLAG 2960 368 diff
FLAG 2400 368 P1_it_val
FLAG 2400 592 P2_it_val
FLAG 3840 336 P2_it
FLAG 3888 528 0
FLAG 4336 320 VCC
FLAG 4336 384 VEE
FLAG 4256 400 0
FLAG 4464 352 P1_it
FLAG 2032 336 P1_it_val
FLAG 2032 560 P2_it_val
FLAG 1760 80 VCC
FLAG 1824 448 0
FLAG 1760 544 VCC
FLAG 1824 928 0
FLAG 1504 800 VCC
FLAG 1504 992 0
FLAG 1520 320 VCC
FLAG 1520 512 0
FLAG 1648 480 P1_switch_weapon
FLAG 1632 1024 P2_switch_weapon
FLAG 1696 448 0
FLAG 1696 928 0
FLAG 96 1056 P1_switch_weapon
FLAG 96 1168 0
FLAG 240 1056 P2_switch_weapon
FLAG 240 1168 0
DATAFLAG 848 352 ""
DATAFLAG 768 448 ""
DATAFLAG 832 800 ""
DATAFLAG 752 896 ""
SYMBOL voltage -416 256 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value -3
SYMBOL voltage -608 256 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 3
SYMBOL voltage -656 624 R0
WINDOW 0 21 20 Left 2
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value2 AC 1
SYMATTR Value SINE(2.5 2.5 100)
SYMBOL voltage -512 1040 R0
WINDOW 0 21 20 Left 2
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value2 AC 1
SYMATTR Value PULSE(0 3 0.5 0.1 0.1 1)
SYMBOL Opamps\\UniversalOpamp2 1200 288 R0
SYMATTR InstName U1
SYMBOL cap 976 384 R0
SYMATTR InstName C1
SYMATTR Value 100n
SYMBOL nmos 800 368 R0
SYMATTR InstName M1
SYMATTR Value RUL035N02
SYMBOL Opamps\\UniversalOpamp2 512 304 R0
SYMATTR InstName U2
SYMBOL Opamps\\UniversalOpamp2 1184 736 R0
SYMATTR InstName U3
SYMBOL cap 960 832 R0
SYMATTR InstName C2
SYMATTR Value 100n
SYMBOL nmos 784 816 R0
SYMATTR InstName M2
SYMATTR Value RUL035N02
SYMBOL Opamps\\UniversalOpamp2 496 752 R0
SYMATTR InstName U4
SYMBOL voltage -256 1040 R0
WINDOW 0 21 20 Left 2
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value2 AC 1
SYMATTR Value PULSE(0 3 1 0.1 0.1 1)
SYMBOL Opamps\\UniversalOpamp2 2704 432 R0
SYMATTR InstName U5
SYMBOL res 2736 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 2592 560 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 2560 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res 2560 528 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL diode 3872 256 R0
SYMATTR InstName D3
SYMATTR Value 1N914
SYMBOL res 3872 352 R0
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL diode 4096 304 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value 1N914
SYMBOL Opamps\\UniversalOpamp2 4336 352 R0
SYMATTR InstName U7
SYMBOL res 4368 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL res 4224 320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL Switches\\ADG419 1760 256 R0
SYMATTR InstName U8
SYMBOL Switches\\ADG419 1760 736 R0
SYMATTR InstName U9
SYMBOL res 1488 784 R0
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res 1488 896 R0
SYMATTR InstName R11
SYMATTR Value 5k
SYMBOL res 1504 304 R0
SYMATTR InstName R12
SYMATTR Value 10k
SYMBOL res 1504 416 R0
SYMATTR InstName R13
SYMATTR Value 5k
SYMBOL voltage 96 1072 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V6
SYMATTR Value 3
SYMBOL voltage 240 1072 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V7
SYMATTR Value 3
TEXT 0 16 Left 2 ;Circuit to determine which player is It.
TEXT -448 504 Left 2 !.tran 0 2s 0 0.1s
TEXT -432 424 Left 2 !;ac dec 10 1 1G
TEXT -312 560 Left 2 !.op
TEXT -624 1232 Left 2 ;Sample at 5V, hold at 0V
TEXT 800 224 Left 2 ;Sample/hold control
TEXT 784 672 Left 2 ;Sample/hold control
TEXT 784 48 Left 2 ;Sample Input from Players
TEXT 1680 -88 Left 2 ;Compare difference from low-point of pendelum (5 V)
TEXT 1784 -48 Left 2 ;difference between player 1 and player 2.
TEXT 1392 48 Left 2 ;Order matters in subtraction here. Negative means player 1 has higher value, positive means player 2 has higher value.
TEXT 1536 0 Left 2 ;Whichever player has highest  value in magnitude is closest to low-point of pendelum and is it.
TEXT 3152 -8 Left 2 ;Output
TEXT 3320 8 Left 2 ;It player( 0V player is not it, 4.5V player is it)
TEXT -512 864 Left 2 ;Modelling button press.
TEXT 1776 1000 Left 2 ;Winner Determination
