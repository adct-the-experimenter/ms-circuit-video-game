Version 4
SHEET 1 6420 1764
WIRE 6032 0 6000 0
WIRE 6176 0 6112 0
WIRE 5664 64 5248 64
WIRE 5840 64 5744 64
WIRE 5840 112 5840 64
WIRE 6000 112 6000 0
WIRE 6000 112 5840 112
WIRE 6064 112 6000 112
WIRE 6176 128 6176 0
WIRE 6176 128 6128 128
WIRE 6224 128 6176 128
WIRE 6064 144 6016 144
WIRE 5456 176 5392 176
WIRE 5568 176 5536 176
WIRE 5664 176 5568 176
WIRE 5840 176 5840 112
WIRE 5840 176 5744 176
WIRE 6016 176 6016 144
WIRE 4944 208 4912 208
WIRE 5040 208 5008 208
WIRE 5568 224 5568 176
WIRE 4432 256 4352 256
WIRE 4496 256 4432 256
WIRE 4496 272 4496 256
WIRE 4544 272 4496 272
WIRE 4656 288 4608 288
WIRE 4720 288 4656 288
WIRE 4256 304 4112 304
WIRE 4544 304 4512 304
WIRE 4912 304 4912 208
WIRE 4944 304 4912 304
WIRE 5040 304 5040 208
WIRE 5040 304 5024 304
WIRE 5392 320 5392 176
WIRE 5472 320 5392 320
WIRE 5568 320 5568 288
WIRE 5568 320 5536 320
WIRE 4432 336 4432 320
WIRE 4496 336 4432 336
WIRE 4512 336 4512 304
WIRE 4512 336 4496 336
WIRE 4352 384 4352 256
WIRE 4432 384 4432 336
WIRE 4720 416 4720 288
WIRE 4800 416 4784 416
WIRE 4912 416 4912 304
WIRE 4912 416 4880 416
WIRE 4944 416 4912 416
WIRE 5040 432 5040 304
WIRE 5040 432 5008 432
WIRE 5120 432 5120 368
WIRE 5120 432 5040 432
WIRE 5248 432 5248 64
WIRE 5248 432 5120 432
WIRE 5280 432 5248 432
WIRE 5392 432 5392 320
WIRE 5392 432 5360 432
WIRE 5456 432 5392 432
WIRE 4896 448 4880 448
WIRE 4944 448 4896 448
WIRE 5568 448 5568 320
WIRE 5568 448 5520 448
WIRE 5456 464 5408 464
WIRE 4896 496 4896 448
WIRE 5408 512 5408 464
WIRE 4256 544 4256 304
WIRE 4432 544 4432 464
WIRE 4432 544 4256 544
FLAG 3824 688 0
FLAG 3632 608 VCC
FLAG 3632 688 0
FLAG 3824 608 VEE
FLAG 3264 624 0
FLAG 4352 464 0
FLAG 4576 256 VCC
FLAG 4656 288 dir_detect
FLAG 4576 320 VEE
FLAG 4976 400 VCC
FLAG 4976 464 VEE
FLAG 3264 544 Vin
FLAG 4112 304 Vin
FLAG 5120 368 zero_detect
FLAG 5488 416 VCC
FLAG 5488 480 VEE
FLAG 5408 512 0
FLAG 6096 96 VCC
FLAG 6096 160 VEE
FLAG 6016 176 0
FLAG 6224 128 abs_zero_cross
FLAG 4896 496 0
SYMBOL voltage 3824 592 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value -3
SYMBOL voltage 3632 592 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 3
SYMBOL voltage 3264 528 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value2 AC 1
SYMATTR InstName V4
SYMATTR Value SINE(1.0 2.0 50)
SYMBOL Opamps\\UniversalOpamp2 4576 288 R0
SYMATTR InstName U1
SYMBOL res 4416 368 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 4336 368 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL diode 4416 256 R0
SYMATTR InstName D1
SYMATTR Value 1N914
SYMBOL diode 4512 336 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value 1N914
SYMBOL Opamps\\UniversalOpamp2 4976 432 R0
SYMATTR InstName U3
SYMBOL cap 4784 400 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 0.1µ
SYMBOL res 4896 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res 5040 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL cap 5008 192 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 100p
SYMBOL Opamps\\UniversalOpamp2 5488 448 R0
SYMATTR InstName U2
SYMBOL res 5376 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL diode 5536 304 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMATTR Value 1N914
SYMBOL diode 5552 224 R0
SYMATTR InstName D4
SYMATTR Value 1N914
SYMBOL res 5552 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res 5760 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 5k
SYMBOL res 5760 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL Opamps\\UniversalOpamp2 6096 128 R0
SYMATTR InstName U4
SYMBOL res 6128 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 10k
TEXT 3592 496 Left 2 !;tran 0 0.5s 0 10us
TEXT 3608 416 Left 2 !.ac dec 10 1 1G
TEXT 4456 8 Left 2 ;differentiatior to take derivative of direction detection to detect zero cross.
