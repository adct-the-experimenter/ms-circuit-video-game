Version 4
SHEET 1 6308 1764
WIRE 3936 128 3888 128
WIRE 4112 128 4016 128
WIRE 5920 128 5888 128
WIRE 6064 128 6000 128
WIRE 3312 176 3280 176
WIRE 3712 176 3312 176
WIRE 3120 192 3120 176
WIRE 5552 192 5136 192
WIRE 5728 192 5632 192
WIRE 4832 208 4800 208
WIRE 4928 208 4896 208
WIRE 3280 240 3280 176
WIRE 5728 240 5728 192
WIRE 5888 240 5888 128
WIRE 5888 240 5728 240
WIRE 5952 240 5888 240
WIRE 4432 256 4352 256
WIRE 4496 256 4432 256
WIRE 6064 256 6064 128
WIRE 6064 256 6016 256
WIRE 6112 256 6064 256
WIRE 4496 272 4496 256
WIRE 4544 272 4496 272
WIRE 5952 272 5904 272
WIRE 3712 288 3712 176
WIRE 3776 288 3712 288
WIRE 3888 288 3888 128
WIRE 3888 288 3856 288
WIRE 3968 288 3888 288
WIRE 4688 288 4608 288
WIRE 4704 288 4688 288
WIRE 4112 304 4112 128
WIRE 4112 304 4032 304
WIRE 4160 304 4112 304
WIRE 4256 304 4160 304
WIRE 4544 304 4512 304
WIRE 4800 304 4800 208
WIRE 4832 304 4800 304
WIRE 4928 304 4928 208
WIRE 4928 304 4912 304
WIRE 5344 304 5280 304
WIRE 5456 304 5424 304
WIRE 5552 304 5456 304
WIRE 5728 304 5728 240
WIRE 5728 304 5632 304
WIRE 5904 304 5904 272
WIRE 3968 320 3952 320
WIRE 4432 336 4432 320
WIRE 4496 336 4432 336
WIRE 4512 336 4512 304
WIRE 4512 336 4496 336
WIRE 5456 352 5456 304
WIRE 4352 384 4352 256
WIRE 4432 384 4432 336
WIRE 3312 416 3120 416
WIRE 3776 416 3312 416
WIRE 3904 416 3856 416
WIRE 3952 416 3952 320
WIRE 3952 416 3904 416
WIRE 4800 416 4800 304
WIRE 4832 416 4800 416
WIRE 4928 432 4928 304
WIRE 4928 432 4896 432
WIRE 5008 432 4928 432
WIRE 5136 432 5136 192
WIRE 5136 432 5008 432
WIRE 3904 448 3904 416
WIRE 4704 448 4704 288
WIRE 4784 448 4768 448
WIRE 4832 448 4784 448
WIRE 5280 448 5280 304
WIRE 5360 448 5280 448
WIRE 5456 448 5456 416
WIRE 5456 448 5424 448
WIRE 4256 544 4256 304
WIRE 4432 544 4432 464
WIRE 4432 544 4256 544
WIRE 5136 560 5136 432
WIRE 5168 560 5136 560
WIRE 5280 560 5280 448
WIRE 5280 560 5248 560
WIRE 5344 560 5280 560
WIRE 5456 576 5456 448
WIRE 5456 576 5408 576
WIRE 5344 592 5296 592
WIRE 5296 640 5296 592
FLAG 4000 272 VCC
FLAG 4000 336 VEE
FLAG 2496 752 0
FLAG 2304 672 VCC
FLAG 2304 752 0
FLAG 2496 672 VEE
FLAG 4160 304 vout_diff
FLAG 3264 624 0
FLAG 3280 320 0
FLAG 3904 528 0
FLAG 3120 272 0
FLAG 3120 496 0
FLAG 4352 464 0
FLAG 4576 256 VCC
FLAG 3440 272 0
FLAG 4576 320 VEE
FLAG 3312 176 Player_X
FLAG 3312 416 Opponent_Weapon_X
FLAG 5376 544 VCC
FLAG 5376 608 VEE
FLAG 5296 640 0
FLAG 5984 224 VCC
FLAG 5984 288 VEE
FLAG 5904 304 0
FLAG 6112 256 abs_zero_cross
FLAG 4864 400 VCC
FLAG 4864 464 VEE
FLAG 4784 528 0
FLAG 5008 432 zero_detect
FLAG 4688 288 dir_detect
SYMBOL Opamps\\UniversalOpamp2 4000 304 R0
SYMATTR InstName U2
SYMBOL voltage 2496 656 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value -5
SYMBOL voltage 2304 656 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL res 4032 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL voltage 3280 224 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value SINE(2.5 2.5 10 0 0 90)
SYMBOL voltage 3264 528 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value SINE(2.5 2.5 50)
SYMBOL res 3872 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res 3872 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res 3888 432 R0
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL voltage 3120 176 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V5
SYMATTR Value 2
SYMBOL voltage 3120 400 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V6
SYMATTR Value 2
SYMBOL Opamps\\UniversalOpamp2 4576 288 R0
SYMATTR InstName U1
SYMBOL res 4416 368 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 4336 368 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL diode 4416 256 R0
SYMATTR InstName D1
SYMATTR Value 1N914
SYMBOL diode 4512 336 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value 1N914
SYMBOL voltage 3440 176 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V7
SYMATTR Value PULSE(0 5.0 0 0.05 0.05 0.1)
SYMBOL Opamps\\UniversalOpamp2 5376 576 R0
SYMATTR InstName U3
SYMBOL res 5264 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL diode 5424 432 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMATTR Value 1N914
SYMBOL diode 5440 352 R0
SYMATTR InstName D4
SYMATTR Value 1N914
SYMBOL res 5440 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL res 5648 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 5k
SYMBOL res 5648 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL Opamps\\UniversalOpamp2 5984 256 R0
SYMATTR InstName U4
SYMBOL res 6016 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL Opamps\\UniversalOpamp2 4864 432 R0
SYMATTR InstName U5
SYMBOL cap 4768 432 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 500p
SYMBOL res 4768 432 R0
SYMATTR InstName R12
SYMATTR Value 10k
SYMBOL res 4928 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL cap 4896 192 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 50n
TEXT 2264 560 Left 2 !.tran 0 0.5s 0 10us
TEXT 2280 480 Left 2 !;ac dec 10 1 1G
